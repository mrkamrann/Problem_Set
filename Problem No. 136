/*
Link : https://codeforces.com/contest/493/problem/E
*/

#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

int find(ll a, ll b, ll x, ll y) {
    if (!x || !y) return 0;
    ll v = y % b;
    return ((x - v) % a ? 0 : find(a, b, (x - v) / a, (y - v) / b)) + (x == y);
}

int func(ll a, ll b, ll c){
  
   if (a == 1 && b == 1) {
        if (c > 1) {
            return 0;
        } else {
            return -1;
        }
    } 
  
    return find(a, b, b, c); 
}


int main() {
    ll a, b, c;
    scanf("%lld %lld %lld", &a, &b, &c);
    
   cout<<func(a,b,c)<<endl;

    return 0;
}
